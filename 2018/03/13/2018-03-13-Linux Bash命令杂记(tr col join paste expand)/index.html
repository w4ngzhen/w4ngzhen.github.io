<!DOCTYPE html>


  <html class="light page-post">


<head>
  <meta charset="utf-8">
  
  <title>Linux Bash命令杂记(tr col join paste expand) | CompileMind</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="Linux,bash," />
  

  <meta name="description" content="tr命令 tr命令可以将输入的数据中的某些字符做替换或者是作删除 12345678910111213141516171819202122tr [-ds] STRd: 删除输入数据的中的STRs: 替换重复的字符# 例last | tr &amp;#x27;[a-z]&amp;#x27; &amp;#x27;A-Z&amp;#x27;将last输出的数据中的所有小写字符替换为大写字符SPPU     UUZ1">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux Bash命令杂记(tr col join paste expand)">
<meta property="og:url" content="http://compilemind.com/2018/03/13/2018-03-13-Linux%20Bash%E5%91%BD%E4%BB%A4%E6%9D%82%E8%AE%B0(tr%20col%20join%20paste%20expand)/index.html">
<meta property="og:site_name" content="CompileMind">
<meta property="og:description" content="tr命令 tr命令可以将输入的数据中的某些字符做替换或者是作删除 12345678910111213141516171819202122tr [-ds] STRd: 删除输入数据的中的STRs: 替换重复的字符# 例last | tr &amp;#x27;[a-z]&amp;#x27; &amp;#x27;A-Z&amp;#x27;将last输出的数据中的所有小写字符替换为大写字符SPPU     UUZ1">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2018-03-12T16:00:00.000Z">
<meta property="article:modified_time" content="2020-08-24T11:05:26.467Z">
<meta property="article:author" content="w4ngzhen">
<meta property="article:tag" content="Linux">
<meta property="article:tag" content="bash">
<meta name="twitter:card" content="summary">

  

  
    <link rel="icon" href="/favicon.ico">
  

  <link href="/css/styles.css?v=c114cbeddx" rel="stylesheet">


  

  
    <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.3.0/css/font-awesome.min.css">
  

<meta name="generator" content="Hexo 5.1.0"></head>

<body>


  

  <div class="post-header">
   

</div>




<div class="content content-post CENTER">
   <article id="post-2018-03-13-Linux Bash命令杂记(tr col join paste expand)" class="article article-type-post" itemprop="blogPost">
  <header class="article-header">
    <h1 class="post-title">Linux Bash命令杂记(tr col join paste expand)</h1>

    <div class="article-meta">
      <span>
        <i class="icon-calendar"></i>
        <span>2018.03.13</span>
      </span>

      
        <span class="article-author">
          <i class="icon-user"></i>
          <span>w4ngzhen</span>
        </span>
      

      


      

      
      <i class="fa fa-eye"></i> 
        <span id="busuanzi_container_page_pv">
           &nbsp热度 <span id="busuanzi_value_page_pv">
           <i class="fa fa-spinner fa-spin"></i></span>℃
        </span>
      
      
    </div>
  </header>

  <div class="article-content">
    
      <p><strong>tr命令</strong></p>
<p>tr命令可以将输入的数据中的某些字符做替换或者是作删除</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">tr [-ds] STR</span><br><span class="line">d: 删除输入数据的中的STR</span><br><span class="line">s: 替换重复的字符</span><br><span class="line"><span class="meta">#</span><span class="bash"> 例</span></span><br><span class="line">last | tr &#x27;[a-z]&#x27; &#x27;A-Z&#x27;</span><br><span class="line">将last输出的数据中的所有小写字符替换为大写字符</span><br><span class="line">SPPU     UUZ1                          TVF MBS 13 18:45   TUJMM MPHHFE JO   </span><br><span class="line">SFCPPU   TZTUFN CPPU  3.10.0-693.17.1. TVF MBS 13 18:45 - 18:47  (00:01)    </span><br><span class="line">SPPU     UUZ1                          TVF MBS 13 10:55 - 13:15  (02:20)    </span><br><span class="line">SFCPPU   TZTUFN CPPU  3.10.0-693.17.1. TVF MBS 13 10:54 - 18:47  (07:52)    </span><br><span class="line">SPPU     UUZ1                          MPO MBS 12 18:33 - 19:35  (01:02)  </span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">cat /etc/passwd | tr -d &#x27;:&#x27;</span><br><span class="line">将cat /etc/passwd输出的数据中的&#x27;:&#x27;全部删除</span><br><span class="line"><span class="meta">#</span><span class="bash"> output</span></span><br><span class="line">rootx00root/root/bin/bash</span><br><span class="line">binx11bin/bin/sbin/nologin</span><br><span class="line">daemonx22daemon/sbin/sbin/nologin</span><br><span class="line">admx34adm/var/adm/sbin/nologin</span><br><span class="line">lpx47lp/var/spool/lpd/sbin/nologin</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p><strong>col命令</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">col [-xb]</span><br><span class="line">-x: 将tab键替换为等长的空个</span><br><span class="line">-b: 在文字内由反斜杠时，仅保留反斜杠后接的那个字符</span><br><span class="line"></span><br><span class="line">cat -A ~/.bashrc</span><br><span class="line"><span class="meta">#</span><span class="bash"> 使用cat -A可以讲输出中所有的特殊按键</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> output</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">#</span><span class="bash"> Source global definitions$</span></span><br><span class="line">if [ -f /etc/bashrc ]; then$</span><br><span class="line">^I. /etc/bashrc$</span><br><span class="line"><span class="meta">fi$</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 注意这里有个^I就是tab字符。</span></span><br><span class="line"></span><br><span class="line">cat -A ~/.bashrc | col -x</span><br><span class="line"><span class="meta">#</span><span class="bash"> output</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Source global definitions$</span></span><br><span class="line">if [ -f /etc/bashrc ]; then$</span><br><span class="line">    . /etc/bashrc$</span><br><span class="line"><span class="meta">#</span><span class="bash"> tab字符不再出现</span></span><br></pre></td></tr></table></figure>
<p><strong>join命令</strong></p>
<p>用于对两个文件按照某一个字符或者字段进行按行连接</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">join [-ti12] file1 file2</span><br><span class="line">-t: 选择分割字符，并且对比“第一个字段”的数据，如果两个文件相同，则将两条数据连成一行，并将第一个字段放在最前</span><br><span class="line">-i: 忽略大小写</span><br><span class="line">-1: 表示第一个文件</span><br><span class="line">-2: 表示第二个文件</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 例1</span></span><br><span class="line">head -n 3 /etc/passwd /etc/shadow</span><br><span class="line"><span class="meta">#</span><span class="bash"> 先查看这两个文件前三行数据</span></span><br><span class="line">==&gt; /etc/passwd &lt;==</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line"></span><br><span class="line">==&gt; /etc/shadow &lt;==</span><br><span class="line">root:&lt;密码太长，我忽略了方便查看&gt;:17593:0:99999:7:::</span><br><span class="line">bin:*:17110:0:99999:7:::</span><br><span class="line">daemon:*:17110:0:99999:7:::</span><br><span class="line"></span><br><span class="line">join -t &#x27;:&#x27; /etc/passwd /etc/shadow | head -n 3</span><br><span class="line"><span class="meta">#</span><span class="bash"> output</span></span><br><span class="line">root:x:0:0:root:/root:/bin/bash:&lt;密码太长，我忽略了方便查看&gt;:17593:0:99999:7:::</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin:*:17110:0:99999:7:::</span><br><span class="line">daemon:x:2:2:daemon:/sbin:/sbin/nologin:*:17110:0:99999:7:::</span><br><span class="line"><span class="meta">#</span><span class="bash">  我们可以看到，按照<span class="string">&#x27;:&#x27;</span>分割，并且默认一第一个字段进行连接</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 例2</span></span><br><span class="line">我们知道/etc/passwd中第四个字段是GID，而/etc/group中第三个字段是GID，我们就可以像如下进行整合：</span><br><span class="line">join -t &#x27;:&#x27; -1 4 /etc/passwd -2 3 /etc/group | head -n 3</span><br><span class="line"><span class="meta">#</span><span class="bash"> output</span></span><br><span class="line">0:root:x:0:root:/root:/bin/bash:root:x:</span><br><span class="line">1:bin:x:1:bin:/bin:/sbin/nologin:bin:x:</span><br><span class="line">2:daemon:x:2:daemon:/sbin:/sbin/nologin:daemon:x:</span><br><span class="line"><span class="meta">#</span><span class="bash"> 我们可以看到，将我们需要的字段提到了最前</span></span><br></pre></td></tr></table></figure>
<p><strong>paste命令</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">直接讲两个文件中的数据按行连接</span><br><span class="line">paste [-d] file1 file2</span><br><span class="line">-d: 设定每行数据连接的字符，默认为tab</span><br><span class="line">paste /etc/passwd /etc/group | head -n 3</span><br><span class="line"><span class="meta">#</span><span class="bash"> output</span></span><br><span class="line">root:x:0:0:root:/root:/bin/bash	root:x:0:</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin	bin:x:1:</span><br><span class="line">daemon:x:2:2:daemon:/sbin:/sbin/nologin	daemon:x:2:</span><br></pre></td></tr></table></figure>
<p><strong>expand命令</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">expand [-t] file</span><br><span class="line">-t: 后面接数字，代表了将一个tab替换为多少个空格键</span><br><span class="line"><span class="meta">#</span><span class="bash"> 例</span></span><br><span class="line">cat -A ~/.bashrc</span><br><span class="line"><span class="meta">#</span><span class="bash"> 使用cat -A可以讲输出中所有的特殊按键</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> output</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">#</span><span class="bash"> Source global definitions$</span></span><br><span class="line">if [ -f /etc/bashrc ]; then$</span><br><span class="line">^I. /etc/bashrc$</span><br><span class="line"><span class="meta">fi$</span></span><br><span class="line">注意看有个^I，是tab符号</span><br><span class="line">cat -A ~/.bashrc | expand -t 10 -(标准输入) | cat -A</span><br><span class="line"><span class="meta">#</span><span class="bash"> output</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">#</span><span class="bash"> Source global definitions$</span></span><br><span class="line">if [ -f /etc/bashrc ]; then$</span><br><span class="line">          . /etc/bashrc$</span><br><span class="line"><span class="meta">fi$</span></span><br><span class="line">我们可以看到原先的tab变为了10个空格</span><br></pre></td></tr></table></figure>
    
  </div>

</article>

</div>


  <a id="backTop" class="back-top">
    <i class="icon-angle-up"></i>
  </a>




  <script type="text/javascript">
  function loadScript(url, callback) {
    var script = document.createElement('script')
    script.type = 'text/javascript';

    if (script.readyState) { //IE
      script.onreadystatechange = function() {
        if (script.readyState == 'loaded' ||
          script.readyState == 'complete') {
          script.onreadystatechange = null;
          callback();
        }
      };
    } else { //Others
      script.onload = function() {
        callback();
      };
    }

    script.src = url;
    document.getElementsByTagName('head')[0].appendChild(script);
  }

  window.onload = function() {
    loadScript('/js/bundle.js?235683', function() {
      // load success
    });
  }
</script>

</body>
</html>
